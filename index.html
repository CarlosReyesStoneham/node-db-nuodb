<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'/>
  <meta http-equiv="X-UA-Compatible" content="chrome=1"/>
  <meta name="description" content="db-nuodb : NuoDB database bindings for Node.js"/>

  <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

  <title>db-nuodb</title>
</head>

<body>

<!-- HEADER -->
<div id="header_wrap" class="outer">
  <header class="inner">
    <a id="forkme_banner" href="https://github.com/nuodb/node-db-nuodb">View on GitHub</a>

    <h1 id="project_title">db-nuodb</h1>

    <h2 id="project_tagline">NuoDB database bindings for Node.js</h2>

    <section id="downloads">
      <a class="zip_download_link" href="https://github.com/nuodb/node-db-nuodb/zipball/master">Download this project as
        a .zip file</a>
      <a class="tar_download_link" href="https://github.com/nuodb/node-db-nuodb/tarball/master">Download this project as
        a tar.gz file</a>
    </section>
  </header>
</div>

<!-- MAIN CONTENT -->
<div id="main_content_wrap" class="outer">
  <section id="main_content" class="inner">

    <h3>Welcome to the db-nuodb Project</h3>

    <p>This project provides a Node.js database driver for the NuoDB database.</p>

    <h3>Install</h3>

    <p>Before proceeding with installation, make sure you have NuoDB installed on your system.
      Specifically, you should have access to the libNuoRemote binary. Make sure you specify
      the NUODB_ROOT environment variable:</p>

    <pre><code>$ export NUODB_ROOT=/usr/local/nuodb</code></pre>

    <p>And now for the actual install, having set up your environment, above:</p>

    <pre><code>$ npm install db-nuodb</code></pre>

    <h3>Connecting</h3>

    <pre><code>var nuodb = require('db-nuodb');
    new nuodb.Database({
        hostname: 'localhost',
        user: 'user',
        password: 'password',
        database: 'test',
        schema: 'test'
    }).on('error', function(error) {
        console.log('ERROR: ' + error);
    }).on('ready', function(server) {
        console.log('Connected to ' + server.hostname + ' (' + server.version + ')');
    }).connect();</code></pre>

    <h3>Querying</h3>

    <pre><code>var nuodb = require('db-nuodb');
    new nuodb.Database({
        hostname: 'localhost',
        user: 'user',
        password: 'password',
        database: 'test',
        schema: 'test'
    }).connect(function(error) {
        if (error) {
            return console.log('CONNECTION error: ' + error);
        }
        this.query().
            select('*').
            from('users').
            where('approved = ?', [ true ]).
            order({'created': false}).
            execute(function(error, rows, cols) {
                    if (error) {
                            console.log('ERROR: ' + error);
                            return;
                    }
                    console.log(rows.length + ' ROWS found');
            });
    });</code></pre>

    <h3>Using Manual Queries</h3>

    <p>In the example below, usage of <a href="http://nodejsdb.org/docs#database_name">Database.name()</a>
      and <a href="http://nodejsdb.org/docs#database_escape">Database.escape()</a> is not mandatory,
      but recommended.</p>

    <pre><code>var nuodb = require('db-nuodb');
    new nuodb.Database({
        hostname: 'localhost',
        user: 'user',
        password: 'password',
        database: 'test',
        schema: 'test'
    }).connect(function(error) {
        if (error) {
            return console.log('CONNECTION error: ' + error);
        }
        this.query('SELECT * FROM ' + this.name('users') + ' WHERE ' + this.name('name') + ' LIKE \'' + this.escape('%John%') + '\'').
            execute(function(error, rows, cols) {
                    if (error) {
                            console.log('ERROR: ' + error);
                            return;
                    }
                    console.log(rows.length + ' ROWS found');
            });
    });</code></pre>

    <h3>Inserting</h3>

    <pre><code>var nuodb = require('db-nuodb');
    new nuodb.Database({
        hostname: 'localhost',
        user: 'user',
        password: 'password',
        database: 'test',
        schema: 'test'
    }).connect(function(error) {
        if (error) {
            return console.log('CONNECTION error: ' + error);
        }
        this.query().
            insert('users',
                ['name', 'created', 'role', 'approved'],
                ['Test User', {value: 'NOW', escape: false}, 'user', true]
            ).
            execute(function(error, result) {
                    if (error) {
                            console.log('ERROR: ' + error);
                            return;
                    }
                    console.log('GENERATED id: ' + result.id);
            });
    });</code></pre>

    <h3>Updating</h3>

    <pre><code>var nuodb = require('db-nuodb');
    new nuodb.Database({
        hostname: 'localhost',
        user: 'user',
        password: 'password',
        database: 'test',
        schema: 'test'
    }).connect(function(error) {
        if (error) {
            return console.log('CONNECTION error: ' + error);
        }
        this.query().
            update('users').
            set({ 'name': 'New Name' }).
            where('id = ?', [ 1 ])
            execute(function(error, result) {
                    if (error) {
                            console.log('ERROR: ' + error);
                            return;
                    }
                    console.log('RESULT: ', result);
            });
    });</code></pre>

    <h3>Deleting</h3>

    <pre><code>var nuodb = require('db-nuodb');
    new nuodb.Database({
        hostname: 'localhost',
        user: 'user',
        password: 'password',
        database: 'test',
        schema: 'test'
    }).connect(function(error) {
        if (error) {
            return console.log('CONNECTION error: ' + error);
        }
        this.query().
            delete().
            from('users')
            where('id = ?', [ 1 ])
            execute(function(error, result) {
                    if (error) {
                            console.log('ERROR: ' + error);
                            return;
                    }
                    console.log('RESULT: ', result);
            });
    });</code></pre>

    <h3>Documentation</h3>

    <p>For more in depth documentation check <a href="http://nodejsdb.org/docs">node-dbâ€™s documentation</a>.</p>

    <h3>Authors and Contributors</h3>

    <p>Robert Buck (<a href="https://github.com/rbuck" class="user-mention">@rbuck</a>).</p>

    <h3>Support or Contact</h3>

    <p>You can report bugs on the <a href="https://github.com/nuodb/node-db-nuodb/issues">project issues page</a>.</p>
  </section>
</div>

<!-- FOOTER  -->
<div id="footer_wrap" class="outer">
  <footer class="inner">
    <p class="copyright">db-nuodb Copyright (c) 2012-2013 by <a href="https://www.nuodb.com/">NuoDB, Inc.</a></p>
  </footer>
</div>


</body>
</html>
